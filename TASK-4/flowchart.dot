digraph UniversiteDersKayitSistemi {
    rankdir=TB;
    splines=ortho;
    labelloc="t";
    label="Ãœniversite Ders KayÄ±t Sistemi - GeliÅŸtirilmiÅŸ ve OkunaklÄ± Model";
    fontname="Helvetica";
    fontsize=20;

    node [fontname="Helvetica", style="rounded,filled", shape=box, fillcolor="#FDFEFE"];
    edge [fontname="Helvetica", fontsize=10];

    // --- AÅAMA 1: GÄ°RÄ°Å ---
    subgraph cluster_1 {
        label="AÅŸama 1: GiriÅŸ ve Rol Belirleme";
        style=filled;
        fillcolor="#EAF2F8";

        Basla [label="BaÅŸla"];
        Giris [label="KullanÄ±cÄ± GiriÅŸi\n(Ã–ÄŸrenci No + Åifre)"];
        RolKontrol [label="Rol KontrolÃ¼", shape=diamond, fillcolor="#AED6F1"];

        Basla -> Giris -> RolKontrol;
    }

    // --- ROLLER ---
    {
        rank=same;
        OgrenciAkisi [label="Ã–ÄŸrenci AkÄ±ÅŸÄ± BaÅŸlat", shape=plaintext];
        DanismanPanel [label="DanÄ±ÅŸman Paneli"];
        YoneticiPanel [label="YÃ¶netici Paneli"];
    }
    RolKontrol -> OgrenciAkisi [label="Ã–ÄŸrenci"];
    RolKontrol -> DanismanPanel [label="DanÄ±ÅŸman"];
    RolKontrol -> YoneticiPanel [label="YÃ¶netici"];

    // --- AÅAMA 2: Ã–ÄRENCÄ° DERS SEÃ‡Ä°MÄ° ---
    subgraph cluster_2 {
        label="AÅŸama 2: Ders SeÃ§im SÃ¼reci (Sepet MantÄ±ÄŸÄ±)";
        style=filled;
        fillcolor="#FDFEFE";

        MaliEngel [label="Mali/Ä°dari Engel Var mÄ±?", shape=diamond, fillcolor="#AED6F1"];
        DersListele [label="Ders Listeleme EkranÄ±\n(Filtre / Arama / MÃ¼fredat)"];
        SepetEkle [label="Sepete Ders Ekle / Ã‡Ä±kar", fillcolor="#E8F8F5"];
        KaydiTamamla [label="KaydÄ± Tamamla Butonu"];
        OgrenciAkisi -> MaliEngel;
        MaliEngel -> DersListele [label="HayÄ±r"];
        DersListele -> SepetEkle -> KaydiTamamla;
    }

    // --- AÅAMA 3: KONTROLLER ---
    subgraph cluster_3 {
        label="AÅŸama 3: KayÄ±t Kontrolleri";
        style=filled;
        fillcolor="#FEF9E7";

        OnKosul [label="Ã–n KoÅŸul SaÄŸlanÄ±yor mu?", shape=diamond, fillcolor="#FAD7A0"];
        ZamanCakisma [label="Zaman Ã‡akÄ±ÅŸmasÄ± Var mÄ±?", shape=diamond, fillcolor="#FAD7A0"];
        Kredi [label="Kredi Limiti â‰¤ 35 mi?", shape=diamond, fillcolor="#FAD7A0"];
        Kontenjan [label="Kontenjan Yeterli mi?", shape=diamond, fillcolor="#FAD7A0"];
        YedekListe [label="Yedek Listeye Eklensin mi?", shape=diamond, fillcolor="#FAD7A0"];
        DanismanOnay [label="DanÄ±ÅŸman OnayÄ± Gerekli mi?\n(GPA < 2.5)", shape=diamond, fillcolor="#FAD7A0"];

        KaydiTamamla -> OnKosul;
        OnKosul -> ZamanCakisma [label="Evet"];
        OnKosul -> DersListele [label="HayÄ±r", color="red", style=dashed];

        ZamanCakisma -> Kredi [label="HayÄ±r"];
        ZamanCakisma -> DersListele [label="Evet", color="red", style=dashed];

        Kredi -> Kontenjan [label="Evet"];
        Kredi -> DersListele [label="HayÄ±r", color="red", style=dashed];

        Kontenjan -> YedekListe [label="HayÄ±r (Dolu)"];
        Kontenjan -> DanismanOnay [label="Evet"];

        YedekListe -> DanismanOnay [label="Evet"];
        YedekListe -> DersListele [label="HayÄ±r", color="red", style=dashed];
    }

    // --- AÅAMA 4: KAYIT DURUMU VE Ã‡IKIÅ ---
    subgraph cluster_4 {
        label="AÅŸama 4: SonuÃ§ ve Durum YÃ¶netimi";
        style=filled;
        fillcolor="#F5F5F5";

        DurumGuncelle [label="Durum GÃ¼ncelle\n(Taslak â†’ Onay Bekliyor / KesinleÅŸti / Reddedildi)"];
        KayitOzeti [label="KayÄ±t Ã–zeti GÃ¶ster"];
        Basarili [label="âœ… KayÄ±t BaÅŸarÄ±lÄ±", shape=ellipse, fillcolor="#A9DFBF"];
        OnayBekliyor [label="ğŸ•’ DanÄ±ÅŸman OnayÄ± Bekliyor", shape=ellipse, fillcolor="#F9E79F"];
        Reddedildi [label="âŒ Reddedildi", shape=ellipse, fillcolor="#F5B7B1"];
        Cikis [label="Sistemden Ã‡Ä±kÄ±ÅŸ"];

        DanismanOnay -> DurumGuncelle;
        DurumGuncelle -> KayitOzeti;
        KayitOzeti -> Basarili [label="OnaylandÄ±"];
        KayitOzeti -> OnayBekliyor [label="Onay Bekliyor"];
        KayitOzeti -> Reddedildi [label="Reddedildi"];
        Basarili -> Cikis;
        OnayBekliyor -> Cikis;
        Reddedildi -> Cikis;
    }

    // --- HATA DURUMLARI ---
    MaliHata [label="âŒ Mali Engel", shape=ellipse, fillcolor="#F5B7B1"];
    MaliEngel -> MaliHata [label="Evet", color="red", style=dashed];
    MaliHata -> Cikis [color="red", style=dashed];

    // --- LEJANT ---
    subgraph cluster_legend {
        label="Lejant";
        fontsize=10;
        style="dashed,rounded";
        fillcolor="#FAFAFA";
        l1 [label="ğŸ”· Karar NoktasÄ±", shape=plaintext];
        l2 [label="ğŸŸ© BaÅŸarÄ± Durumu", shape=plaintext];
        l3 [label="ğŸŸ¥ Hata Durumu", shape=plaintext];
        l4 [label="ğŸŸ¨ Bekleyen Durum", shape=plaintext];
    }
}

